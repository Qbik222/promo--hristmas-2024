"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var a={},t=Object.prototype,c=t.hasOwnProperty,u=Object.defineProperty||function(t,e,r){t[e]=r.value},e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",r=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function o(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(t){o=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i,o,a,s,e=e&&e.prototype instanceof d?e:d,e=Object.create(e.prototype),n=new b(n||[]);return u(e,"_invoke",{value:(i=t,o=r,a=n,s="suspendedStart",function(t,e){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return S()}for(a.method=t,a.arg=e;;){var r=a.delegate;if(r){r=function t(e,r){var n=r.method,i=e.iterator[n];if(void 0===i)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;n=l(i,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,h;i=n.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}(r,a);if(r){if(r===h)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";r=l(i,o,a);if("normal"===r.type){if(s=a.done?"completed":"suspendedYield",r.arg===h)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(s="completed",a.method="throw",a.arg=r.arg)}})}),e}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}a.wrap=s;var h={};function d(){}function f(){}function p(){}var e={},m=(o(e,n,function(){return this}),Object.getPrototypeOf),m=m&&m(m(L([]))),y=(m&&m!==t&&c.call(m,n)&&(e=m),p.prototype=d.prototype=Object.create(e));function v(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function _(a,s){var e;u(this,"_invoke",{value:function(r,n){function t(){return new s(function(t,e){!function e(t,r,n,i){var o,t=l(a[t],a,r);if("throw"!==t.type)return(r=(o=t.arg).value)&&"object"==_typeof(r)&&c.call(r,"__await")?s.resolve(r.__await).then(function(t){e("next",t,n,i)},function(t){e("throw",t,n,i)}):s.resolve(r).then(function(t){o.value=t,n(o)},function(t){return e("throw",t,n,i)});i(t.arg)}(r,n,t,e)})}return e=e?e.then(t,t):t()}})}function g(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function b(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(g,this),this.reset(!0)}function L(e){if(e){var r,t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return r=-1,(t=function t(){for(;++r<e.length;)if(c.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:S}}function S(){return{value:void 0,done:!0}}return u(y,"constructor",{value:f.prototype=p,configurable:!0}),u(p,"constructor",{value:f,configurable:!0}),f.displayName=o(p,i,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,o(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},a.awrap=function(t){return{__await:t}},v(_.prototype),o(_.prototype,r,function(){return this}),a.AsyncIterator=_,a.async=function(t,e,r,n,i){void 0===i&&(i=Promise);var o=new _(s(t,e,r,n),i);return a.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},v(y),o(y,i,"Generator"),o(y,n,function(){return this}),o(y,"toString",function(){return"[object Generator]"}),a.keys=function(t){var e,r=Object(t),n=[];for(e in r)n.push(e);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=L,b.prototype={constructor:b,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function t(t,e){return o.type="throw",o.arg=r,n.next=t,e&&(n.method="next",n.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&c.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}var o=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),w(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,n,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(r=i.completion).type&&(n=r.arg,w(i)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},a}function asyncGeneratorStep(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function _asyncToGenerator(s){return function(){var t=this,a=arguments;return new Promise(function(e,r){var n=s.apply(t,a);function i(t){asyncGeneratorStep(n,e,r,i,o,"next",t)}function o(t){asyncGeneratorStep(n,e,r,i,o,"throw",t)}i(void 0)})}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _createForOfIteratorHelper(t,e){var r,n,i,o,a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(a)return n=!(r=!0),{s:function(){a=a.call(t)},n:function(){var t=a.next();return r=t.done,t},e:function(t){n=!0,i=t},f:function(){try{r||null==a.return||a.return()}finally{if(n)throw i}}};if(Array.isArray(t)||(a=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length)return a&&(t=a),o=0,{s:e=function(){},n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var r;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ownKeys(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(t,e,r){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}!function(){var a,I="https://fav-prom.com/api_wheel_2025",N=document.querySelector(".table__user"),W=document.querySelectorAll(".unauth-msg"),s=document.querySelectorAll(".btn-join"),C=document.querySelectorAll(".took-part"),D=document.getElementById("top-users"),i=document.querySelectorAll(".table__toggle-item"),B=document.querySelector(".fav-page"),c=document.querySelector(".ball"),G=document.querySelector(".guide"),H=document.querySelector(".games"),t=document.querySelector("#ukLeng"),u=document.querySelector("#enLeng")?"en":t?"uk":"uk",l={},R=!1,o=0;function r(){var t=document.querySelectorAll("[data-translate]"),e=(t&&t.length&&t.forEach(function(t){var e=t.getAttribute("data-translate");t.innerHTML=l[e]||"*----NEED TO BE TRANSLATED----*   key:  "+e,t.removeAttribute("data-translate")}),"en"===u&&B.classList.add("en"),void 0),r=void 0;if(e){for(var n=0,i=["uk","en"];n<i.length;n++){var o=i[n];e.classList.remove(r+o)}e.classList.add(r+u)}}var X=function(){i.forEach(function(e,r){return e.addEventListener("click",function(t){r!==o&&(i.forEach(function(t){return t.classList.remove("_active")}),e.classList.add("_active"),Y((o=r)+1))})}),Y()};function h(){X()}function Y(t){t=(t=t=t)?"/week-users/".concat(t):"/users",d(t).then(function(t){return t.map(function(t){return"number"==typeof t?{userid:t}:t})}).then(function(t){var e;D.classList.remove("hide"),t&&t.length&&(K(t.slice(0,10),a,D,t),e=!(e=(e=a&&t.find(function(t){return t.userid===a}))&&t.indexOf(e))||e<10?t.slice(10,13):t.slice(Math.max(e-1,10),e+2))&&e.length&&K(e,a,N,t),r()})}function K(t,c,u,l){u.innerHTML="",t&&t.length&&t.forEach(function(t,e){var r,n,i=c&&c===t.userid,o=document.createElement("div"),a=(i&&o.classList.add("you"),l.indexOf(t)+1),e=("top-users"!==u.id&&"questsTable"!==u.id||(0===e?r="gold":1===e?r="silver":2===e&&(r="bronze")),(e=a)<=10?"prize_".concat(e):e<=20?"prize_11-20":e<=30?"prize_21-30":e<=40?"prize_31-40":e<=50?"prize_41-50":e<=70?"prize_51-70":e<=100?"prize_71-100":e<=150?"prize_101-150":e<=200?"prize_151-200":e<=250?"prize_201-250":e<=300?"prize_251-300":e<=350?"prize_301-350":e<=400?"prize_351-400":e<=450?"prize_401-450":e<=500?"prize_451-500":e<=550?"prize_501-550":e<=600?"prize_551-600":e<=650?"prize_601-650":e<=700?"prize_651-700":e<=750?"prize_701-750":void 0),s=(n="-",11<=(s=a)&&s<=50?n="x1":51<=s&&s<=150?n="x2":151<=s&&s<=300?n="x3":301<=s&&s<=400?n="x4":401<=s&&s<=550?n="x5":551<=s&&s<=750&&(n="-"),n);o.classList.add("table__body-row"),r&&o.classList.add(r),o.innerHTML='\n                <div class="table__body-row-item">'.concat(a,'</div>\n                <div class="table__body-row-item">').concat(i?t.userid:"**"+t.userid.toString().slice(2),'</div>\n                <div class="table__body-row-item">').concat(t.points&&!isNaN(t.points)?t.points:0,'</div>\n                <div class="table__body-row-item">').concat(e?U(e):" - ",'</div>\n                <div class="table__body-row-item">').concat(s,"</div>\n            "),u.append(o)})}var d=function(t,e){return fetch(I+t,_objectSpread({headers:{Accept:"application/json","Content-Type":"application/json"}},e||{})).then(function(t){return t.json()})};function f(){if(a){var t,e=_createForOfIteratorHelper(W);try{for(e.s();!(t=e.n()).done;)t.value.classList.add("hide")}catch(t){e.e(t)}finally{e.f()}return d("/favuser/".concat(a,"?nocache=1")).then(function(t){var n,e,r;t.userid?(s.forEach(function(t){return t.classList.add("hide")}),C.forEach(function(t){return t.classList.remove("hide")}),c.classList.remove("_sign"),G.classList.remove("_sign"),H.classList.remove("_sign"),document.querySelector(".progress").classList.remove("_sign"),R&&(t.pointsPerDay=30,t.spinAllowed=!0,t.spinsStreak=3,t.spins=[]),t.spinAllowed||c.classList.add("_lock"),e=t,e=Math.min(e.pointsPerDay||0,50),document.querySelector(".current").innerHTML="".concat(e),r=document.querySelector(".progress__bar-thumb"),e=e/50*100,r.style.width="".concat(e,"%"),r=t.spins,n=document.querySelector(".spins-row"),e=document.querySelector(".no-spins"),r&&0!==r.length?(n.innerHTML="",n.classList.remove("hide"),e.classList.add("hide"),r.forEach(function(t){var e=new Date(t.date).toLocaleDateString("uk-UA"),t=U(t.name)||"",r=document.createElement("div");r.classList.add("spins-row-item"),r.innerHTML='\n            <span class="content-date">'.concat(e,'</span>\n            <span class="content-prize">').concat(t,"</span>\n        "),n.appendChild(r)})):(n.classList.add("hide"),e.classList.remove("hide"))):s.forEach(function(t){return t.classList.remove("hide")})})}var r,n=_createForOfIteratorHelper(s);try{for(n.s();!(r=n.n()).done;)r.value.classList.add("hide")}catch(t){n.e(t)}finally{n.f()}var i,o=_createForOfIteratorHelper(W);try{for(o.s();!(i=o.n()).done;)i.value.classList.remove("hide")}catch(t){o.e(t)}finally{o.f()}return Promise.resolve(!1)}function J(){return Date.now()<new Date("2024-12-17T22:00:00Z")?1:2}function U(t){if(t)return l[t]||"*----NEED TO BE TRANSLATED----*   key:  "+t}fetch("".concat(I,"/translates/").concat(u)).then(function(t){return t.json()}).then(function(t){l=t,r(),new MutationObserver(function(t){r()}).observe(document.getElementById("sam"),{childList:!0,subtree:!0})}).then(function(){if((o=J()-1)&&0!==o){for(var t=0;t<2;t++){var e=i[t];o<t&&e.classList.add("hide")}i.forEach(function(t,e){t.classList.remove("active"),e===o&&t.classList.add("active")})}var r,n;window.store?(r=window.store.getState(),a=r.auth.isAuthorized&&r.auth.id||"",f().then(h)):(f().then(h),n=setInterval(function(){window.g_user_id&&(a=window.g_user_id,f().then(h),clearInterval(n))},200)),s.forEach(function(t,e){t.addEventListener("click",function(t){t.preventDefault(),a&&(t={userid:a},d("/user",{method:"POST",body:JSON.stringify(t)}).then(function(t){s.forEach(function(t){return t.classList.add("hide")}),C.forEach(function(t){return t.classList.remove("hide")}),c.classList.remove("_sign"),h()}))})})}),setTimeout(function(){return B.classList.add("overflow")},1e3);var n,p,t=document.querySelector(".prize__list"),e=document.querySelectorAll(".prize__list-item"),m=document.querySelector(".prize__list-scroll"),Z=document.querySelector(".prize__slider-move-right"),$=document.querySelector(".prize__slider-move-left"),y=(document.querySelector(".prize__tabs"),window.innerWidth<600),v=e.length,_=e[0].clientWidth,g=(m.clientWidth-_*v)/(v-1),w=y?1:Math.ceil(t.clientWidth/(_+g)),b=(Math.ceil(v/w),1),L=0,S=function(t,r){t.forEach(function(t,e){r-1===e?t.classList.add("_active"):t.classList.remove("_active")})};function E(){y||(p=(n=b)+(w-1),e.forEach(function(t,e){e+1===n?t.classList.add("_left"):t.classList.remove("_left"),e+1===p?t.classList.add("_right"):t.classList.remove("_right")}))}function Q(t){m.style.transform="translateX(-".concat(t,"px)")}S(e,b),E();function V(){var t;v-(w-1)<=b&&!1===y?(E(),b=1,L=0,p++,n++):b===v?(console.log(b),b=1,L=0):b===v-(w+1)&&!0===y?(b=v,L=m.clientWidth-(window.innerWidth-g/2),console.log(L)):(t=(v-w)*(_+g))<L+_+g?(L=t,b=v-w+1):(L+=_+g,b++),Q(L),S(e,b),E(),x(P)}function tt(){1===b&&!1===y?L=(b=v-(w-1))*(_+g)-(_+g):2===b?(L=0,b=1):1===b&&!0===y?(b=v,L=m.clientWidth-(window.innerWidth-g/2)):(L-=_+g,b--),Q(L),S(e,b),E(),x(P)}function et(e,t){t.forEach(function(t,r){t.addEventListener("click",function(t){e.forEach(function(t,e){r===e?t.classList.add("_popup"):t.classList.remove("_popup")})})})}function x(t){t.forEach(function(t){t.classList.remove("_popup")})}var rt=document.querySelectorAll(".prize__list-item-btn"),k=document.querySelectorAll(".prize__list-popup-close"),O=document.querySelectorAll(".guide__item"),nt=document.querySelectorAll(".guide__item-info-btn"),it=document.querySelectorAll(".guide__item-popup-close"),ot=document.querySelector(".table__popup"),at=document.querySelector(".table__popup-close"),st=document.querySelector(".table__info"),q=document.querySelector(".progress__popup"),ct=document.querySelector(".progress__popup-close"),ut=document.querySelector(".progress__popup-btn"),P=document.querySelectorAll(".prize__container-item"),lt=(document.addEventListener("click",function(e){O.forEach(function(t){t.contains(e.target)||t.classList.remove("_popup")}),q.contains(e.target)||e.target===ut||q.classList.add("hide")}),et(P,rt),et(O,nt),it.forEach(function(t){t.addEventListener("click",function(){x(O)})}),k.forEach(function(t){t.addEventListener("click",function(){x(P)})}),st.addEventListener("click",function(){ot.classList.remove("hide"),document.body.style.overflow="hidden"}),at.addEventListener("click",function(){ot.classList.add("hide"),document.body.style.overflow="auto"}),ut.addEventListener("click",function(){q.classList.remove("hide")}),ct.addEventListener("click",function(){q.classList.add("hide")}),400);function A(t){this.masthead=t,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.width=this.masthead.clientWidth,this.height=this.masthead.clientHeight,this.active=!1,this.snowflakes=[],this.init()}A.prototype.init=function(){this.canvas.style.position="absolute",this.canvas.style.left=this.canvas.style.top="0",this.masthead.appendChild(this.canvas),this.onResize(),window.addEventListener("resize",this.onResize.bind(this),!1);for(var t=0;t<lt;t++){var e=new this.Snowflake(this);e.reset(),this.snowflakes.push(e)}this.active&&requestAnimFrame(this.update.bind(this))},A.prototype.onResize=function(){this.width=this.masthead.clientWidth,this.height=this.masthead.clientHeight,this.canvas.width=this.width,this.canvas.height=this.height,this.ctx.fillStyle="#FFF";var t=this.active;this.active=80<this.width,280<this.width&&(lt=150),!t&&this.active&&requestAnimFrame(this.update.bind(this))},A.prototype.update=function(){if(this.ctx.clearRect(0,0,this.width,this.height),this.active){for(var t=0;t<lt;t++){var e=this.snowflakes[t];e.y+=e.vy,e.x+=e.vx,this.ctx.globalAlpha=e.o,this.ctx.beginPath(),this.ctx.arc(e.x,e.y,e.r,0,2*Math.PI,!1),this.ctx.closePath(),this.ctx.fill(),e.y>this.height&&e.reset()}requestAnimFrame(this.update.bind(this))}},(A.prototype.Snowflake=function(t){this.snowstorm=t,this.reset()}).prototype.reset=function(){this.x=Math.random()*this.snowstorm.width,this.y=Math.random()*-this.snowstorm.height,this.vy=.3+1e-5*Math.random(),this.vx=.6-Math.random(),this.r=1+2*Math.random(),this.o=1},window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},document.querySelectorAll(".sky").forEach(function(t){new A(t)});for(var T=document.querySelector(".snowCanvas"),M=T.getContext("2d"),j=document.querySelector(".sphere"),z=(T.width=T.parentElement.clientWidth,T.height=T.parentElement.clientHeight,[]),ht=1,dt=function(){function t(){_classCallCheck(this,t),this.x=Math.random()*T.width,this.y=Math.random()*T.height,this.radius=3*Math.random()+1,this.speedX=10*(Math.random()-.5),this.speedY=1.5*Math.random()+1,this.acceleration=0,this.movingToBottom=!1}return _createClass(t,[{key:"update",value:function(t,e,r,n){this.movingToBottom?(this.speedX=this.speedX-.05*(this.speedX-.1),this.speedY=this.speedY-.05*(this.speedY-.1),this.y+=this.speedY,this.y>T.height&&this.remove()):(this.x+=this.speedX,this.y+=this.speedY,this.speedX=Math.max(-7,Math.min(7,this.speedX)),this.speedY=Math.max(-7,Math.min(7,this.speedY)),n?this.acceleration+=.05:this.acceleration*=.95,this.speedX+=this.acceleration*(Math.random()-.5),this.speedY+=this.acceleration*(Math.random()-.5),this.y>T.height&&(this.y=0,this.x=Math.random()*T.width),this.x>T.width?this.x=0:this.x<0&&(this.x=T.width),n=this.x-t,t=this.y-e,(e=Math.sqrt(n*n+t*t))<r+this.radius&&(t=Math.atan2(t,n),n=r+this.radius-e,this.x+=Math.cos(t)*n,this.y+=Math.sin(t)*n,this.speedX*=-.7,this.speedY*=-.7))}},{key:"moveToBottom",value:function(){this.movingToBottom=!0}},{key:"remove",value:function(){z.splice(z.indexOf(this),1),1===ht&&(new A(document.querySelector(".sphere__body")),ht++)}},{key:"draw",value:function(){M.beginPath(),M.arc(this.x,this.y,this.radius,0,2*Math.PI),M.fillStyle="white",M.fill(),M.closePath()}}]),t}(),ft=!1,pt=0;pt<100;pt++)z.push(new dt);!function t(){M.clearRect(0,0,T.width,T.height);var e=window.getComputedStyle(j).transform,r=T.width/2,n=T.height/2,i=j.offsetWidth/2,o="none"!==e;if("none"!==e&&(e=new DOMMatrix(e),r=j.offsetLeft+e.m41+i,n=j.offsetTop+e.m42+i),o&&!ft){z=[];for(var a=0;a<100;a++)z.push(new dt)}ft=o,z.forEach(function(t){o||t.moveToBottom(),t.update(r,n,i,o),t.draw()}),requestAnimationFrame(t)}();var mt,yt,vt,_t=document.querySelector(".progress__shake"),rt=document.querySelector(".sphere"),nt=document.querySelector(".sphere__box"),gt=["_iphone","_tv","_jbl","_megogo","_respin","_nothing","_fs10","_fs25","_fs50","_saveBet100","_saveBet150","_saveBet200","_points50"];function wt(){return(wt=_asyncToGenerator(_regeneratorRuntime().mark(function t(e,r,n,i,o){var a;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=function(e){return new Promise(function(t){return setTimeout(t,e)})},function(e,t,r){e.classList.remove("_before-hide"),gt.forEach(function(t){e.classList.remove("".concat(t))}),t.classList.remove("_box-opacity"),r.classList.remove("_disabled")}(e,r,n),o)return console.log(o),n.classList.add("_disabled"),e.classList.add("_shake"),r.classList.add("_shake-reverse"),t.next=9,a(2e3);t.next=18;break;case 9:return e.classList.remove("_shake"),e.classList.add("_before-hide"),r.classList.remove("_shake-reverse"),r.classList.add("_box-opacity"),t.next=15,a(200);case 15:e.classList.add("".concat(i)),t.next=29;break;case 18:if(n.classList.add("_disabled"),e.classList.add("_shake"),r.classList.add("_shake-reverse"),e.classList.remove("_shake"),e.classList.add("_before-hide"),r.classList.remove("_shake-reverse"),r.classList.add("_box-opacity"),0===o)return t.next=28,a(200);t.next=28;break;case 28:e.classList.add("".concat(i));case 29:return t.abrupt("return",i);case 30:case"end":return t.stop()}},t)}))).apply(this,arguments)}mt=rt,vt=nt,(yt=_t).addEventListener("click",function(){!function(){var t;if(a)return R?Promise.resolve({number:"jbl"}):(t={userid:a},d("/spin",{method:"POST",body:JSON.stringify(t)}))}().then(function(t){var e,r;console.log(t),!t||t.error?_t.classList.remove("_disabled"):(e="_".concat(t.number),r=gt.indexOf(e),console.log("Prize:",e),console.log("Prize Num:",r),t.streakBonus,function(){return wt.apply(this,arguments)}(mt,vt,yt,e,r).catch(function(t){return console.error("anim error:",t)}))})});it=document.querySelectorAll(".btn"),k=function(){var t,e=navigator.userAgent||navigator.vendor||window.opera,r=navigator.platform||"unknown";/android/i.test(e)&&/linux arm/i.test(r)&&(t="Android");/iPad|iPhone|iPod/.test(e)&&!window.MSStream&&(t="iOS");/Macintosh|MacIntel|MacPPC|Mac68K/.test(r)&&(t="macOS");/Win32|Win64|Windows|WOW64/.test(r)&&(t="Windows");/Linux/.test(r)&&!/android/i.test(e)&&(t="Linux");return t}();"macOS"!==k&&"iOS"!==k||it.forEach(function(t){t.classList.add("_ios")}),console.log("Операційна система:",k);var bt,F;F=0,t.addEventListener("touchstart",function(t){F=t.changedTouches[0].screenX},!1),t.addEventListener("touchend",function(t){(bt=t.changedTouches[0].screenX)<F-50&&V(),F+50<bt&&tt()},!1),Z.addEventListener("click",V),$.addEventListener("click",tt),window.addEventListener("orientationchange",function(){location.reload()})}();